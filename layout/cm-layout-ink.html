<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <!--/* [META] :: 공통 메타 요소 */-->
    <th:block th:insert="common/fragments/cm-head-meta :: cmHeadMetaFragment"></th:block>

    <!--/* [META] :: inline block */-->
    <th:block layout:fragment="head-meta-block">
    </th:block>

    <title th:if="${not #strings.isEmpty(title)}" th:text="${title}"></title>
    <title th:if="${#strings.isEmpty(title) && not #strings.isEmpty(title_prefix)}" th:text="${title_prefix} + ' - 교보문고'"></title>
    <title th:if="${#strings.isEmpty(title) && #strings.isEmpty(title_prefix)}">교보문고</title>
    
    <!--/* [LINK] :: 공통 스타일시트 */-->
    <th:block th:insert="common/fragments/cm-head-styles :: cmStylesFragment"></th:block>
    
    <!--/* [LINK] :: inline block */-->
    <th:block layout:fragment="head-style-block"></th:block>
    
    <!-- [PB_TEAM:LINK] 공통 스타일 -->
    <link rel="stylesheet" th:href="@{${cdnURI} + '/css/style_ink.css'}">
    <!-- // [PB_TEAM:LINK] 공통 스타일 -->
    
    <!--/* [SCRIPT] 공통 BODY_ 스크립트 */-->
    <th:block th:insert="common/fragments/cm-head-scripts :: cmHeadScriptFragment"></th:block>
    
    <!-- [KbbJS] options customize -->
    <script>
        KbbJS.setOption('loader.baseURI', "[[${cdnURI}]]" + '/lib/kbb-js')
        // TODO: replace CDN URL
        // KbbJS.setOption('loader.baseURI', '//unpkg.com/@kyobobook/kbb-js')
    </script>
    
    <!--/* [LOCAL] HEAD_BLOCK */-->
    <th:block layout:fragment="head-custom-block">
    </th:block>
    
    <!-- [KbbJS] 공통 초기화 스크립트 / KbbJS.load() -->
    <script th:src="@{${cdnURI} + '/js/init.js'}"></script>
</head>
<body>
    <div class="skip_nav_wrap">
        <a href="#headerWrapper">메뉴 바로가기</a>
        <a href="#containerWrapper">본문 바로가기</a>
    </div>
    <!-- BODY_WRAPPER -->
    <div class="wrapper">
        <!--/* BODY_HEADER */-->
        <th:block th:insert="common/fragments/cm-body-header :: cmBodyHeaderFragment"></th:block>

        <main id="containerWrapper" class="container_wrapper">
            <!--/* [LOCAL] BODY_LAYER_BLOCK */-->
            <th:block layout:fragment="main-content"></th:block>    
        </main>
        
        <!--/* BODY_HEADER */-->
        <th:block th:insert="common/fragments/cm-body-footer :: cmBodyFooterFragment"></th:block>
        
        <!--/* WING BANNER */-->
        <th:block th:insert="common/fragments/cm-body-wingbanner :: cmBodyWingBannerFragment"></th:block>
        
    <!-- // BODY_WRAPPER -->
    </div>
    
    <!--/* [LOCAL] BODY_LAYER_BLOCK */-->
    <th:block layout:fragment="layer-content"></th:block>
    
    <!--/* 공통 BODY-END 스크립트 */-->
    <th:block th:insert="common/fragments/cm-body-script :: cmBodyScriptFragment"></th:block>
    
    <!--/* [LOCAL] BODY_SCRIPT_BLOCK */-->
    <th:block layout:fragment="body-script-block"></th:block>
    
    <!-- [PB_TEAM] 공통 스크립트 -->
    <script th:src="@{${cdnURI} + '/js/ui_ink.js'}"></script>
    <!-- // [PB_TEAM] 공통 스크립트 -->
</body>
</html>
